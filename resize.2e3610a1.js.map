{"version":3,"sources":["resize.js"],"names":["throttle","func","wait","context","args","result","_now","timeout","previous","later","document","documentElement","className","indexOf","addEventListener","resizer","window","Date","now","getTime","apply","remaining","arguments","clearTimeout","options","trailing","setTimeout","elements","Array","prototype","slice","call","querySelectorAll","widthById","forEach","el","parent","parentNode","width","id","getBoundingClientRect","minwidth","getAttribute","maxwidth","style","display","$","trigger","require","AppCommunicator","triggerResize","e","console","log","scrollPosition","scrollTarget","easeFactor","limit","lastFunc","lastRan","updateScroll","scrollTo","throttledResizer","requestAnimationFrame","event","preventDefault","deltaY","passive"],"mappings":";CAAA,WAwCaA,IAASC,EAAMC,EAGhBC,EAASC,EAAMC,EADfC,EACuBC,EAAgBC,EACvCC,EA1CJC,SAASC,gBAAgBC,UAAUC,QAAQ,sBAAwB,IACvEH,SAASC,gBAAgBC,WAAa,qBAEhC,kBAAmBF,WA+BzBA,SAASI,iBAAiB,mBAAoBC,GAE9CC,OAAOF,iBAAiB,UAENb,EAFyBc,EAEnBb,EAF4B,IAI5CI,EAAOW,KAAKC,KAAO,WAAqB,OAAA,IAAID,MAAOE,WAC5BZ,EAAU,KAAMC,EAAW,EAClDC,EAAQ,WACRD,EAAWF,IACXC,EAAU,KACVF,EAASJ,EAAKmB,MAAMjB,EAASC,GACxBG,IAASJ,EAAUC,EAAO,OAE5B,WACCc,IAAAA,EAAMZ,IAAQe,EAAYnB,GAAQgB,EAAMV,GAcrCH,OAbPF,EAAU,KACVC,EAAOkB,UACHD,GAAa,GAAKA,EAAYnB,GAC1BK,IACAgB,aAAahB,GACbA,EAAU,MAEdC,EAAWU,EACXb,EAASJ,EAAKmB,MAAMjB,EAASC,GACxBG,IAASJ,EAAUC,EAAO,OACvBG,IAAgC,IAArBiB,QAAQC,WAC3BlB,EAAUmB,WAAWjB,EAAOY,IAEzBhB,OA3DNU,SAAAA,IACDY,IAAAA,EAAWC,MAAMC,UAAUC,MAAMC,KAAKrB,SAASsB,iBAAiB,gCAChEC,EAAY,GAChBN,EAASO,QAAQ,SAAUC,GACnBC,IAAAA,EAASD,EAAGE,WACZC,EAAQL,EAAUG,EAAOG,KAAOH,EAAOI,wBAAwBF,MAC/DG,EAAWN,EAAGO,aAAa,kBAC3BC,EAAWR,EAAGO,aAAa,kBAC/BT,EAAUG,EAAOG,IAAMD,EAGnBH,EAAGS,MAAMC,SADRJ,GAAYH,KAAWK,GAAYL,GAAsB,OAAbK,GAC1B,QAEA,SAGvB,IACI3B,OAAOoB,QAAUpB,OAAOoB,OAAOU,GAC/B9B,OAAOoB,OAAOU,EAAE,QAAQC,QAAQ,iBAAkB,CAAC/B,SAEnDA,OAAOgC,SACPA,QAAQ,CAAC,mBAAoB,WACzBA,QAAQ,CAAC,iDAAkD,SAAUC,GACjEA,EAAgBC,oBAI9B,MAAOC,GAAKC,QAAQC,IAAIF,KAjClC,GAwEA,IAAIG,EAAiB,EACjBC,EAAe,EACfC,EAAa,GASjB,SAASxD,EAASC,EAAMwD,GAChBC,IAAAA,EAAUC,EACP,OAAA,WACGxD,IAAAA,EAAU,KAAMC,EAAOkB,UACxBqC,GAIDpC,aAAamC,GACbA,EAAWhC,WAAW,WACbT,KAAKC,MAAQyC,GAAYF,IAC1BxD,EAAKmB,MAAMjB,EAASC,GACpBuD,EAAU1C,KAAKC,QAEpBuC,GAASxC,KAAKC,MAAQyC,MATzB1D,EAAKmB,MAAMjB,EAASC,GACpBuD,EAAU1C,KAAKC,QAc3B,SAAS0C,IACLN,IAAmBC,EAAeD,GAAkBE,EACpDxC,OAAO6C,SAAS,EAAGP,GAGnBQ,IAEAC,sBAAsBH,GAI1B,SAAS7C,IACDY,IAAAA,EAAWC,MAAMC,UAAUC,MAAMC,KAAKrB,SAASsB,iBAAiB,gCAChEC,EAAY,GAChBN,EAASO,QAAQ,SAAUC,GACnBC,IAAAA,EAASD,EAAGE,WACZC,EAAQL,EAAUG,EAAOG,KAAOH,EAAOI,wBAAwBF,MAC/DG,EAAWN,EAAGO,aAAa,kBAC3BC,EAAWR,EAAGO,aAAa,kBAC/BT,EAAUG,EAAOG,IAAMD,EAGnBH,EAAGS,MAAMC,SADRJ,GAAYH,KAAWK,GAAYL,GAAsB,OAAbK,GAC1B,QAEA,SAlD/B3B,OAAOF,iBAAiB,QAAS,SAAUkD,GACvCA,EAAMC,iBACNV,GAA+B,GAAfS,EAAME,QACvB,CAAEC,SAAS,IAqDd,IAAML,EAAmB9D,EAASe,EAAS,KAG3CC,OAAOF,iBAAiB,SAAU,WAC9BgD,MAIJF","file":"resize.2e3610a1.js","sourceRoot":"../src","sourcesContent":["(function () {\n    // only want one resizer on the page\n    if (document.documentElement.className.indexOf(\"g-resizer-v3-init\") > -1) return;\n    document.documentElement.className += \" g-resizer-v3-init\";\n    // require IE9+\n    if (!(\"querySelector\" in document)) return;\n    function resizer() {\n        var elements = Array.prototype.slice.call(document.querySelectorAll(\".g-artboard[data-min-width]\")),\n            widthById = {};\n        elements.forEach(function (el) {\n            var parent = el.parentNode,\n                width = widthById[parent.id] || parent.getBoundingClientRect().width,\n                minwidth = el.getAttribute(\"data-min-width\"),\n                maxwidth = el.getAttribute(\"data-max-width\");\n            widthById[parent.id] = width;\n\n            if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {\n                el.style.display = \"block\";\n            } else {\n                el.style.display = \"none\";\n            }\n        });\n        try {\n            if (window.parent && window.parent.$) {\n                window.parent.$(\"body\").trigger(\"resizedcontent\", [window]);\n            }\n            if (window.require) {\n                require(['foundation/main'], function () {\n                    require(['shared/interactive/instances/app-communicator'], function (AppCommunicator) {\n                        AppCommunicator.triggerResize();\n                    });\n                });\n            }\n        } catch (e) { console.log(e); }\n    }\n\n    document.addEventListener('DOMContentLoaded', resizer);\n    // feel free to replace throttle with _.throttle, if available\n    window.addEventListener('resize', throttle(resizer, 200));\n\n    function throttle(func, wait) {\n        // from underscore.js\n        var _now = Date.now || function () { return new Date().getTime(); },\n            context, args, result, timeout = null, previous = 0;\n        var later = function () {\n            previous = _now();\n            timeout = null;\n            result = func.apply(context, args);\n            if (!timeout) context = args = null;\n        };\n        return function () {\n            var now = _now(), remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0 || remaining > wait) {\n                if (timeout) {\n                    clearTimeout(timeout);\n                    timeout = null;\n                }\n                previous = now;\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            } else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    }\n\n})();\n\n// Variables to control scroll speed and easing\nlet scrollPosition = 0;\nlet scrollTarget = 0;\nlet easeFactor = 0.2; // This controls the \"smoothness\" or delay\n\n// Event listener for mouse wheel (desktop scroll)\nwindow.addEventListener('wheel', function (event) {\n    event.preventDefault(); // Prevent default scroll behavior\n    scrollTarget += event.deltaY * 0.5; // Adjust this factor to change scroll speed\n}, { passive: false });\n\n// Throttle function to limit how often resizer is called\nfunction throttle(func, limit) {\n    let lastFunc, lastRan;\n    return function () {\n        const context = this, args = arguments;\n        if (!lastRan) {\n            func.apply(context, args);\n            lastRan = Date.now();\n        } else {\n            clearTimeout(lastFunc);\n            lastFunc = setTimeout(function () {\n                if ((Date.now() - lastRan) >= limit) {\n                    func.apply(context, args);\n                    lastRan = Date.now();\n                }\n            }, limit - (Date.now() - lastRan));\n        }\n    };\n}\n\n// Function to update scroll position with easing and call resizer\nfunction updateScroll() {\n    scrollPosition += (scrollTarget - scrollPosition) * easeFactor;\n    window.scrollTo(0, scrollPosition); // Scroll manually\n\n    // Throttled resizer call\n    throttledResizer();\n\n    requestAnimationFrame(updateScroll); // Keep updating\n}\n\n// Resizer function for dynamic layout adjustments\nfunction resizer() {\n    var elements = Array.prototype.slice.call(document.querySelectorAll(\".g-artboard[data-min-width]\")),\n        widthById = {};\n    elements.forEach(function (el) {\n        var parent = el.parentNode,\n            width = widthById[parent.id] || parent.getBoundingClientRect().width,\n            minwidth = el.getAttribute(\"data-min-width\"),\n            maxwidth = el.getAttribute(\"data-max-width\");\n        widthById[parent.id] = width;\n\n        if (+minwidth <= width && (+maxwidth >= width || maxwidth === null)) {\n            el.style.display = \"block\";\n        } else {\n            el.style.display = \"none\";\n        }\n    });\n}\n\n// Throttled resizer for performance\nconst throttledResizer = throttle(resizer, 100);\n\n// Ensure resizer is called on window resize\nwindow.addEventListener('resize', function () {\n    throttledResizer();\n});\n\n// Start the manual scroll animation\nupdateScroll();\n"]}